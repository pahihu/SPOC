%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Fri Sep  2 23:29:38 2011
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 6
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0
ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.54(HOSTIOLIB\(3L\) OCCAM)72 48 R 115.54
(LIBRARIES HOSTIOLIB\(3L\))2.5 F/F1 10.95/Times-Bold@0 SF -.219(NA)72 84
S(ME).219 E F0(hostio.lib \255 INMOS occam toolset host \214le serv)108
96 Q(er library)-.15 E F1(SYNOPSIS)72 112.8 Q/F2 10/Courier@0 SF
(#INCLUDE "hostio.inc")108 124.8 Q(#USE "hostio.lib")108 136.8 Q F1
(SUMMAR)72 153.6 Q(Y)-.383 E F0 1.081
(The occam toolset library hostio.lib pro)108 165.6 R 1.081
(vides the main interf)-.15 F 1.08
(ace between the host and the transputer net-)-.1 F -.1(wo)108 177.6 S
(rk.).1 E F1 -.548(OV)72 199.2 S(ER).548 E(VIEW)-.602 E F0 1.6 -.8(To u)
108 211.2 T(se the functions in this library do the follo).8 E(wing:)
-.25 E F2(#INCLUDE "hostio.inc")108 228 Q(#USE "hostio.lib")108 240 Q F0
.377(The pair of channels)108 256.8 R F2 .377(CHAN OF SP fs, ts)2.877 F
F0 .378(to and from the serv)2.877 F .378(er are the \214rst tw)-.15 F
2.878(op)-.1 G .378(arameters for most)-2.878 F F2(hostio.lib)108 268.8
Q F0(library procedure.)2.5 E .02(When a ne)108 285.6 R 2.52(ws)-.25 G
.02(tream is opened with)-2.52 F F2(so.open)2.52 E F0 2.52(,a)C F2 .02
(VAL INT32 streamid)B F0 .02(is returned.)2.52 F .02
(This is used to ref-)5.02 F(erence the stream and is used in all proce\
dure calls related to \214les.)108 297.6 Q .678
(Error returns from procedures are passed out a v)108 314.4 R .678
(ariable called)-.25 F F2(result)3.178 E F0 .678(which can tak)3.178 F
3.178(et)-.1 G .679(he follo)-3.178 F .679(wing v)-.25 F(al-)-.25 E
(ues:)108 326.4 Q .965(lf\(CR\) l)108 343.2 R 3.465(w\(5i\). spr)-.1 F
9.33(.ok The)-.55 F .965(operation w)3.465 F .965(as successful spr)-.1
F 32.55(.notok T)-.55 F .965(oo man)-.8 F 3.465(yt)-.15 G .965
(emporary \214les opened)-3.465 F(\()108 355.2 Q F2(so.open.temp)A F0
5.856(\)s)C(pr)-5.856 E 16.73(.bad.name In)-.55 F -.25(va)-.4 G 3.357
(lid name parameter spr).25 F 21.17(.bad.type In)-.55 F -.25(va)-.4 G
3.357(lid type parameter).25 F(\()108 367.2 Q F2(so.open)A F0(,)A F2
(so.open.temp)8.792 E F0 8.792(\)s)C(pr)-8.792 E 16.17(.bad.mode In)-.55
F -.25(va)-.4 G 6.292(lid mode parameter \().25 F F2(so.open)A F0 8.791
(\)s)C(pr)-8.791 E(.bad.ori-)-.55 E 14.5(gin In)108 379.2 R -.25(va)-.4
G .34(lid origin parameter \().25 F F2(so.seek)A F0 2.84(\)s)C(pr)-2.84
E(.bad.pack)-.55 E 30.34(et.size Some)-.1 F .34(data w)2.84 F .34
(as lar)-.1 F .34(ger than the b)-.18 F(uilt)-.2 E 3.091(in b)108 391.2
R(uf)-.2 E 3.091(fer spr)-.25 F(.b)-.55 E(uf)-.2 E(fer)-.25 E(.o)-.55 E
-.15(ve)-.15 G(r\215o).15 E 32.9(wP)-.25 G 3.091(art of the operation e)
-33.05 F 3.091(xceeded the 256 byte b)-.15 F(uf)-.2 E 3.09(fer >=spr)
-.25 F(.opera-)-.55 E(tion.f)108 403.2 Q 17.11(ailed Serv)-.1 F
(er returned a f)-.15 E(ailure)-.1 E F1(SO Pr)72 424.8 Q(ocedur)-.197 E
(es)-.197 E F2(PROC so.ask \(CHAN OF SP fs, ts, VAL []BYTE prompt,)108
436.8 Q(VAL []BYTE replies, VAL BOOL display.possible.replies,)180 448.8
Q(VAL BOOL echo.reply, INT reply.number\))180 460.8 Q F0 .578
(Prompt for user k)144 477.6 R -.15(ey)-.1 G .578(board response from v)
.15 F .579(alid replies and return reply)-.25 F .579(.number as inde)
-.65 F 3.079(x. If)-.15 F F2(dis-)3.079 E(play.possible.replies)144
489.6 Q F0(is)7.881 E F2(TRUE)7.881 E F0 5.381
(then print permitted replies on the screen.)7.881 F(If)10.381 E F2
(echo.reply)144 501.6 Q F0(is)2.5 E F2(TRUE)2.5 E F0
(then echo response on screen.)2.5 E F2
(PROC so.buffer \(CHAN OF SP fs, ts,)108 518.4 Q
(CHAN OF SP from.user, to.user)204 530.4 Q(CHAN OF BOOL stopper\))204
542.4 Q F0 1.164(This routine pro)144 559.2 R 1.164(vides b)-.15 F(uf)
-.2 E 1.165
(fering of the SP protocol passing requests from the user to the system)
-.25 F(until an)144 571.2 Q 2.5(yb)-.15 G(oolean is sent along)-2.5 E F2
(stopper)2.5 E F0(.)A F2
(PROC so.close \(CHAN OF SP fs, ts, VAL INT32 streamid, BYTE result\))
108 588 Q F0(Close an open stream.)144 604.8 Q F2
(PROC so.commandline \(CHAN OF SP fs, ts, VAL BYTE all, INT length,)108
621.6 Q([]BYTE string, BYTE result\))234 633.6 Q F0 .714
(Return the command line passed by the host in string of)144 650.4 R F2
.714(SIZE length)3.214 F F0 3.214(bytes. If)3.214 F F2(all)3.214 E F0
.713(is set to)3.214 F F2(sp.short.commandline)144 662.4 Q F0 .605
(then strip serv)3.105 F .606(er options or present them if)-.15 F F2
(sp.whole.comman-)3.106 E(dline)144 674.4 Q F0(.)A F2
(PROC so.core \(CHAN OF SP fs, ts, VAL INT32 offset, INT bytes.read,)108
691.2 Q([]BYTE data, BYTE result\))192 703.2 Q F0 143.18(HOSTIOLIB 23)72
768 R(February 1993)2.5 E(1)193.45 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.54(HOSTIOLIB\(3L\) OCCAM)72 48 R 115.54
(LIBRARIES HOSTIOLIB\(3L\))2.5 F(Return peek)144 84 Q
(ed memory of root transputer)-.1 E(.)-.55 E/F1 10/Courier@0 SF
(PROC so.date.to.ascii \(VAL [6]INT date, VAL BOOL long.years,)108 100.8
Q(VAL BOOL days.first, [19]BYTE string\))246 112.8 Q F0(See)144 129.6 Q
F1(so.time)2.5 E F0(and)2.5 E F1(so.time.to.ascii)2.5 E F0(etc.)2.5 E F1
(PROC so.eof \(CHAN OF SP fs, ts, VAL INT32 streamid, BYTE result\))108
146.4 Q F0(Return result)144 163.2 Q F1(spr.ok)2.5 E F0
(if end of \214le on the gi)2.5 E -.15(ve)-.25 G 2.5(ns).15 G(tream.)
-2.5 E F1(PROC so.exit \(CHAN OF SP fs, ts, VAL INT32 status\))108 180 Q
F0 -.7(Te)144 196.8 S(rminate the serv).7 E(er and e)-.15 E
(xit the program with status)-.15 E F1(sps.success)2.5 E F0(or)2.5 E F1
(sps.failure)2.5 E F0(.)A(PR)108 213.6 Q
(OC so.ferror \(CHAN OF SP fs, ts, V)-.4 E(AL INT32 streamid,)-1.35 E
(INT32 error)148 225.6 Q(.no, INT length, []BYTE message, BYTE result\))
-.55 E -.15(Fo)144 242.4 S 2.5(rt).15 G(he gi)-2.5 E -.15(ve)-.25 G 2.5
(nh).15 G(ost)-2.5 E F1(error.no)2.5 E F0 2.5(,p)C(ut a description of)
-2.5 E F1(SIZE length)2.5 E F0(bytes in message.)2.5 E F1
(PROC so.flush \(CHAN OF SP fs, ts, VAL INT32 streamid, BYTE result\))
108 259.2 Q F0(Flush the output b)144 276 Q(uf)-.2 E(fer of the gi)-.25
E -.15(ve)-.25 G 2.5(ns).15 G(tream.)-2.5 E F1
(PROC so.fwrite.char \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 292.8
Q(VAL BYTE char, BYTE result\))234 304.8 Q
(PROC so.fwrite.hex.int \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
316.8 Q(VAL INT n, VAL INT width, BYTE result\))252 328.8 Q
(PROC so.fwrite.hex.int32 \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
340.8 Q(VAL INT32 n, VAL INT width, BYTE result\))264 352.8 Q
(PROC so.fwrite.hex.int64 \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
364.8 Q(VAL INT64 n, VAL INT width, BYTE result\))264 376.8 Q
(PROC so.fwrite.int \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 388.8 Q
(VAL INT n, VAL INT width, BYTE result\))228 400.8 Q
(PROC so.fwrite.int32 \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 412.8
Q(VAL INT32 n, VAL INT width, BYTE result\))240 424.8 Q
(PROC so.fwrite.int64 \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 436.8
Q(VAL INT64 n, VAL INT width, BYTE result\))240 448.8 Q
(PROC so.fwrite.nl \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 460.8 Q
(BYTE result\))222 472.8 Q
(PROC so.fwrite.real32 \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
484.8 Q(VAL REAL32 r, VAL INT Ip, VAL INT Dp,)246 496.8 Q(BYTE result\))
246 508.8 Q
(PROC so.fwrite.real64 \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
520.8 Q(VAL REAL64 r, VAL INT Ip, VAL INT Dp,)246 532.8 Q(BYTE result\))
246 544.8 Q
(PROC so.fwrite.string \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
556.8 Q(VAL []BYTE string, BYTE result\))246 568.8 Q
(PROC so.fwrite.string.nl \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
580.8 Q(VAL []BYTE string, BYTE result\))264 592.8 Q F0 .266
(Write the gi)144 609.6 R -.15(ve)-.25 G 2.766(nd).15 G .266(ata type t\
o a stream, usually a \214le, formatting where necessary and possibly p\
ad-)-2.766 F .627(ding with spaces to a gi)144 621.6 R -.15(ve)-.25 G
3.127<6e8c>.15 G(eld)-3.127 E F1(width)3.127 E F0 .627(or printing)3.127
F F1(Ip)3.127 E F0(inte)3.127 E .627(ger places and)-.15 F F1(Dp)3.127 E
F0 .627(decimal places for)3.127 F F1(REAL32)144 633.6 Q F0(and)3.316 E
F1(REAL64)3.316 E F0 .816(types. He)3.316 F 3.316(xn)-.15 G .816
(umbers are written pre\214x)-3.316 F .816(ed by a '#'. PR)-.15 F .815
(OCedures ending in)-.4 F F1(.nl)144 645.6 Q F0(write a ne)2.5 E
(wline sequence.)-.25 E F1
(PROC so.getenv \(CHAN OF SP fs, ts, VAL []BYTE name, INT length,)108
662.4 Q([]BYTE value, BYTE result\))204 674.4 Q F0(Return the v)144
691.2 Q(alue of the gi)-.25 E -.15(ve)-.25 G 2.5(nh).15 G(ost en)-2.5 E
(vironment v)-.4 E(ariable of)-.25 E F1(SIZE length)2.5 E F0(bytes.)2.5
E F1(PROC so.getkey \(CHAN OF SP fs, ts, BYTE key, BYTE result\))108 708
Q F0 143.18(HOSTIOLIB 23)72 768 R(February 1993)2.5 E(2)193.45 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.54(HOSTIOLIB\(3L\) OCCAM)72 48 R 115.54
(LIBRARIES HOSTIOLIB\(3L\))2.5 F -.8(Wa)144 84 S(it for k).8 E -.15(ey)
-.1 G(press.).15 E/F1 10/Courier@0 SF
(PROC so.gets \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 100.8 Q
(INT bytes.read, []BYTE data, BYTE result\))192 112.8 Q F0 .167
(Read up to)144 129.6 R F1 .167(SIZE data)2.667 F F0 .167
(bytes from a line of the stream and return the number of bytes read.)
2.667 F(The)5.168 E(ne)144 141.6 Q(wline is not returned.)-.25 E F1
(PROC so.multiplexor \(CHAN OF SP fs, ts,)108 158.4 Q
([]CHAN OF SP from.user, to.user,)228 170.4 Q(CHAN OF BOOL stopper\))228
182.4 Q F0(See)144 199.2 Q F1(so.overlapped.multiplexor)2.5 E F0(.)A F1
(PROC so.open \(CHAN OF SP fs, ts, VAL []BYTE name, VAL BYTE type,)108
216 Q(VAL BYTE mode, INT32 streamid, BYTE result\))192 228 Q F0 .239(At\
tempt to open the \214le name and return the streamid for \214le operat\
ions if successful.)144 244.8 R -1.11(Va)5.239 G .239(lid types)1.11 F
(are)144 256.8 Q F1(spt.binary)10.052 E F0(and)10.052 E F1(spt.text)
10.052 E F0 10.052(.V)C 7.553(alid modes are)-11.162 F F1(spm.input)
10.053 E F0(,)A F1(spm.output)10.053 E F0(,)A F1(spm.append)144 268.8 Q
F0(,)A F1(spm.existing.update)3.515 E F0(,)A F1(spm.new.update)3.515 E
F0(and)3.515 E F1(spm.append.update)3.515 E F0(.)A F1
(PROC so.open.temp \(CHAN OF SP fs, ts, VAL BYTE type,)108 285.6 Q
([6]BYTE filename, INT32 streamid, BYTE result\))222 297.6 Q F0
(Open a temporary \214le and return its)144 314.4 Q F1(filename)2.5 E F0
(and streamid.)2.5 E(See)5 E F1(so.open)2.5 E F0(for v)2.5 E
(alid types.)-.25 E F1(PROC so.overlapped.buffer \(CHAN OF SP fs, ts,)
108 331.2 Q(CHAN OF SP from.user, to.user,)270 343.2 Q
(CHAN OF BOOL stopper\))270 355.2 Q F0 1.164(This routine pro)144 372 R
1.164(vides b)-.15 F(uf)-.2 E 1.165
(fering of the SP protocol passing requests from the user to the system)
-.25 F 1.158(until an)144 384 R 3.658(yb)-.15 G 1.158
(oolean is sent along)-3.658 F F1(stopper)3.658 E F0 3.657(.C)C 1.157
(ommunications are o)-3.657 F -.15(ve)-.15 G 1.157(rlapped allo).15 F
1.157(wing inputs and)-.25 F(outputs to happen concurrently)144 396 Q(.)
-.65 E F1(PROC so.overlapped.multiplexor \(CHAN OF SP fs, ts,)108 412.8
Q([]CHAN OF SP from.user, to.user)300 424.8 Q
(CHAN OF BOOL stopper, []INT queue\))300 436.8 Q
(PROC so.overlapped.pri.multiplexor \(CHAN OF SP fs, ts,)108 448.8 Q
([]CHAN OF SP from.user, to.user)324 460.8 Q(CHAN OF BOOL stopper,)324
472.8 Q([]INT queue\))324 484.8 Q F0 1.06(These routines pro)144 501.6 R
1.06(vide multiple)-.15 F 1.06(xing of the SP protocol.)-.15 F 1.06
(Procedures with)6.06 F F1(pri)3.56 E F0 1.06(in the name gi)3.56 F -.15
(ve)-.25 G 1.454(priority to the lo)144 513.6 R 1.454
(wer numbered channels.)-.25 F 1.453(Procedures with)6.453 F F1
(overlapped)3.953 E F0 1.453(in the name, o)3.953 F -.15(ve)-.15 G(rlap)
.15 E(communications allo)144 525.6 Q
(wing inputs and outputs to happen concurrently)-.25 E(.)-.65 E F1
(PROC so.parse.command.line \(CHAN OF SP fs, ts,)108 542.4 Q
(VAL [][]BYTE option.strings,)276 554.4 Q
(VAL []INT option.parameters.required,)276 566.4 Q
([]BOOL option.exists,)276 578.4 Q([][2]INT option.parameters,)276 590.4
Q(INT error.len, []BYTE line\))276 602.4 Q F0 -.15(Pa)144 619.2 S
(rse the command line for options.).15 E
(See INMOS documentation for details.)5 E F1
(PROC so.pollkey \(CHAN OF SP fs, ts, BYTE key, BYTE result\))108 636 Q
F0 .003(Read a character from the k)144 652.8 R -.15(ey)-.1 G .004
(board \().15 F F1(result)A F0(=)2.504 E F1(spr.ok)2.504 E F0 2.504(\)o)
C 2.504(rr)-2.504 G .004(eturn immediately if no k)-2.504 F .304 -.15
(ey i)-.1 H 2.504(sr).15 G(eady)-2.504 E(\()144 664.8 Q F1(result)A F0
(>=)2.5 E F1(spr.operation.failed)2.5 E F0(\).)A F1
(PROC so.popen.read \(CHAN OF SP fs, ts, VAL []BYTE filename,)108 681.6
Q(VAL []BYTE path.variable.name, VAL BYTE open.type,)228 693.6 Q
(INT full.len, []BYTE full.name, INT32 stream.id,)228 705.6 Q
(BYTE result\))228 717.6 Q F0 143.18(HOSTIOLIB 23)72 768 R
(February 1993)2.5 E(3)193.45 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.54(HOSTIOLIB\(3L\) OCCAM)72 48 R 115.54
(LIBRARIES HOSTIOLIB\(3L\))2.5 F .672(Open a \214le lik)144 84 R(e)-.1 E
/F1 10/Courier@0 SF(so.open)3.171 E F0 -.2(bu)3.171 G 3.171(tu).2 G .671
(se the gi)-3.171 F -.15(ve)-.25 G 3.171(ne).15 G -.4(nv)-3.171 G .671
(ironment v).4 F .671(ariable as a path to search for it.)-.25 F(The)
5.671 E(mode is al)144 96 Q -.1(wa)-.1 G(ys).1 E F1(spm.input)2.5 E F0
(and the full name and length are returned also.)2.5 E F1
(PROC so.pri.multiplexor \(CHAN OF SP fs, ts,)108 112.8 Q
([]CHAN OF SP from.user, to.user,)258 124.8 Q(CHAN OF BOOL stopper\))258
136.8 Q F0(See)144 153.6 Q F1(so.overlapped.multiplexor)2.5 E F0(.)A F1
(PROC so.puts \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 170.4 Q
(VAL []BYTE data, BYTE result\))192 182.4 Q F0(Write the gi)144 199.2 Q
-.15(ve)-.25 G 2.5(nl).15 G(ine to the stream follo)-2.5 E(wed by a ne)
-.25 E(wline.)-.25 E F1
(PROC so.read \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 216 Q
(INT bytes.read, []BYTE data\))192 228 Q F0(Read up to)144 244.8 Q F1
(SIZE data)2.5 E F0(bytes from the gi)2.5 E -.15(ve)-.25 G 2.5(ns).15 G
(tream and return the number read.)-2.5 E F1
(PROC so.read.echo.any.int \(CHAN OF SP fs, ts, INT n, BOOL error\))108
261.6 Q
(PROC so.read.echo.hex.int \(CHAN OF SP fs, ts, INT n, BOOL error\))108
273.6 Q
(PROC so.read.echo.hex.int32 \(CHAN OF SP fs, ts, INT32 n, BOOL error\))
108 285.6 Q
(PROC so.read.echo.hex.int64 \(CHAN OF SP fs, ts, INT64 n, BOOL error\))
108 297.6 Q
(PROC so.read.echo.int \(CHAN OF SP fs, ts, INT n, BOOL error\))108
309.6 Q
(PROC so.read.echo.int32 \(CHAN OF SP fs, ts, INT32 n, BOOL error\))108
321.6 Q
(PROC so.read.echo.int64 \(CHAN OF SP fs, ts, INT64 n, BOOL error\))108
333.6 Q
(PROC so.read.echo.line \(CHAN OF SP fs, ts, INT len, []BYTE line,)108
345.6 Q(BYTE result\))252 357.6 Q F0 .468(Read some data from the k)144
374.4 R -.15(ey)-.1 G .469
(board terminated by return, echoing output to the screen.).15 F(He)
5.469 E 2.969(xn)-.15 G(um-)-2.969 E(bers can be pre\214x)144 386.4 Q
(ed by a '#' or '$' or with)-.15 E F1
(PROC so.read.echo.real32 \(CHAN OF SP fs, ts, REAL32 n, BOOL error\))
108 403.2 Q
(PROC so.read.echo.real64 \(CHAN OF SP fs, ts, REAL64 n, BOOL error\))
108 415.2 Q
(PROC so.read.line \(CHAN OF SP fs, ts, INT len, []BYTE line,)108 432 Q
(BYTE result\))222 444 Q F0 .757(Read a line of)144 460.8 R F1 .757
(SIZE len)6.757 F F0 .757(bytes from the k)3.257 F -.15(ey)-.1 G .757
(board with no screen echo. The line terminator is).15 F(remo)144 472.8
Q -.15(ve)-.15 G 2.5(d. See).15 F(also)2.5 E F1(so.read.echo.line)2.5 E
F0(.)A F1
(PROC so.remove \(CHAN OF SP fs, ts, VAL []BYTE name, BYTE result\))108
489.6 Q F0(Attempt to delete the gi)144 506.4 Q -.15(ve)-.25 G 2.5<6e8c>
.15 G(le.)-2.5 E F1
(PROC so.rename \(CHAN OF SP fs, ts, VAL []BYTE oldname,)108 523.2 Q
(VAL []BYTE newname, BYTE result\))204 535.2 Q F0
(Attempt to rename \214le oldname to ne)144 552 Q(wname.)-.25 E F1
(PROC so.seek \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 568.8 Q
(VAL INT32 offset, VAL INT32 origin, BYTE result\))192 580.8 Q F0(Mo)144
597.6 Q 3.59 -.15(ve t)-.15 H 3.29(he \214le pointer on the gi).15 F
-.15(ve)-.25 G 5.791(ns).15 G 3.291(tream to a ne)-5.791 F 5.791(wo)-.25
G -.25(ff)-5.791 G 5.791(set. Origin).25 F 3.291(can be)5.791 F F1
(spo.start)5.791 E F0(,)A F1(spo.current)144 609.6 Q F0(or)2.5 E F1
(spo.end)2.5 E F0(.)A F1
(PROC so.system \(CHAN OF SP fs, ts, VAL []BYTE command,)108 626.4 Q
(INT32 status, BYTE result\))204 638.4 Q F0(Ex)144 655.2 Q(ecute the gi)
-.15 E -.15(ve)-.25 G 2.5(nc).15 G(ommand on the host serv)-2.5 E(er)
-.15 E(.)-.55 E F1
(PROC so.tell \(CHAN OF SP fs, ts, VAL INT32 streamid,)108 672 Q
(INT32 position, BYTE result\))192 684 Q F0
(Return the position of the \214le pointer for the gi)144 700.8 Q -.15
(ve)-.25 G 2.5(ns).15 G(tream.)-2.5 E F1
(PROC so.test.exists \(CHAN OF SP fs, ts, VAL []BYTE filename,)108 717.6
Q(BOOL exists\))234 729.6 Q F0 143.18(HOSTIOLIB 23)72 768 R
(February 1993)2.5 E(4)193.45 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.54(HOSTIOLIB\(3L\) OCCAM)72 48 R 115.54
(LIBRARIES HOSTIOLIB\(3L\))2.5 F(Return)144 84 Q/F1 10/Courier@0 SF
(TRUE)2.5 E F0(in)2.5 E F1(exists)2.5 E F0(if the \214le e)2.5 E(xists.)
-.15 E F1
(PROC so.time \(CHAN OF SP fs, ts, INT32 localtime, INT32 UTCtime\))108
100.8 Q F0
(Return the local and UTC time \(UNIX format - see time\(3\)\).)144
117.6 Q F1(PROC so.time.to.ascii \(VAL INT32 time, VAL BOOL long.years,)
108 134.4 Q(VAL BOOL days.first, [19]BYTE string\))246 146.4 Q
(PROC so.time.to.date \(VAL INT32 input.time, [6]INT date\))108 158.4 Q
(PROC so.today.ascii \(CHAN OF SP fs, ts, VAL BOOL long.years,)108 170.4
Q(VAL BOOL days.first, [19]BYTE string\))234 182.4 Q
(PROC so.today.date \(CHAN OF SP fs, ts, [6]INT date\))108 194.4 Q F0
-1.11(Va)144 211.2 S .276(rious time and date to/from ascii con)1.11 F
-.15(ve)-.4 G 2.775(rsions. See).15 F(also)2.775 E F1(so.date.to.ascii)
2.775 E F0(,)A F1(so.time)2.775 E F0(and)2.775 E/F2 10/Times-Bold@0 SF
(time)144 223.2 Q F0(\(3\).)A F1 .691([6]INT date)3.191 F F0(is)3.191 E
F1 .691([seconds, minutes, hour, day, month, year])3.191 F F0(Date)5.691
E 2.856(format is)144 235.2 R F1("HH:MM:SS DD/MM/YYYY")5.356 E F0 7.856
(.I)C(f)-7.856 E F1(long.years)5.356 E F0(is)5.356 E F1(FALSE)5.355 E F0
2.855(use 2 digit years.)5.355 F(If)7.855 E F1(days.first)144 247.2 Q F0
(is)2.5 E F1(FALSE)2.5 E F0(then sw)2.5 E(ap DD and MM \(for U.S.\))-.1
E F1(PROC so.version \(CHAN OF SP fs, ts, BYTE version, BYTE host,)108
264 Q(BYTE os, BYTE board\))210 276 Q F0(Return v)144 292.8 Q
(ersion information.)-.15 E(See INMOS documentation for v)5 E(alues.)
-.25 E F1(PROC so.write \(CHAN OF SP fs, ts, VAL INT32 streamid,)108
309.6 Q(VAL []BYTE data, INT length\))198 321.6 Q F0(Write up to)144
338.4 Q F1(SIZE data)2.5 E F0(bytes to the gi)2.5 E -.15(ve)-.25 G 2.5
(ns).15 G(tream and return the)-2.5 E F1(length)2.5 E F0(written.)2.5 E
F1(PROC so.write.char \(CHAN OF SP fs, ts, VAL BYTE char\))108 355.2 Q
(PROC so.write.hex.int \(CHAN OF SP fs, ts, VAL INT n,)108 367.2 Q
(VAL INT width\))246 379.2 Q
(PROC so.write.hex.int32 \(CHAN OF SP fs, ts, VAL INT32 n,)108 391.2 Q
(VAL INT width\))258 403.2 Q
(PROC so.write.hex.int64 \(CHAN OF SP fs, ts, VAL INT64 n,)108 415.2 Q
(VAL INT width\))258 427.2 Q
(PROC so.write.int \(CHAN OF SP fs, ts, VAL INT n, VAL INT width\))108
439.2 Q
(PROC so.write.int32 \(CHAN OF SP fs, ts, VAL INT32 n, VAL INT width\))
108 451.2 Q
(PROC so.write.int64 \(CHAN OF SP fs, ts, VAL INT64 n, VAL INT width\))
108 463.2 Q(PROC so.write.nl \(CHAN OF SP fs, ts\))108 475.2 Q
(PROC so.write.real32 \(CHAN OF SP fs, ts, VAL REAL32 r, VAL INT Ip,)108
487.2 Q(VAL INT Dp\))240 499.2 Q
(PROC so.write.real64 \(CHAN OF SP fs, ts, VAL REAL64 r, VAL INT Ip,)108
511.2 Q(VAL INT Dp\))240 523.2 Q
(PROC so.write.string \(CHAN OF SP fs, ts, VAL []BYTE string\))108 535.2
Q(PROC so.write.string.nl \(CHAN OF SP fs, ts, VAL []BYTE string\))108
547.2 Q F0 1.355(Write the gi)144 564 R -.15(ve)-.25 G 3.855(nd).15 G
1.355(ata type to the screen, formatting where necessary and possibly p\
adding with)-3.855 F .177(spaces to a gi)144 576 R -.15(ve)-.25 G 2.677
<6e8c>.15 G .177(eld width or printing)-2.677 F F1(Ip)2.677 E F0(inte)
2.676 E .176(ger places and)-.15 F F1(Dp)2.676 E F0 .176
(decimal places for)2.676 F F1(REAL32)2.676 E F0(and)2.676 E F1(REAL64)
144 588 Q F0 1.091(types. He)3.591 F 3.591(xn)-.15 G 1.091
(umbers are written pre\214x)-3.591 F 1.091(ed by a '#'. PR)-.15 F 1.092
(OCedures ending in)-.4 F F1(.nl)3.592 E F0 1.092(write a)3.592 F(ne)144
600 Q(wline sequence.)-.25 E/F3 10.95/Times-Bold@0 SF(SP Pr)72 621.6 Q
(ocedur)-.197 E(es)-.197 E F1
(PROC sp.receive.packet \(CHAN OF SP fs, INT16 length,)108 633.6 Q
([]BYTE packet, BOOL error\))252 645.6 Q
(PROC sp.send.packet \(CHAN OF SP ts, VAL []BYTE packet,)108 657.6 Q
(BOOL error\))234 669.6 Q F0(See section H.3 of the INMOS manual for de\
scriptions of these procedures.)108 686.4 Q 143.18(HOSTIOLIB 23)72 768 R
(February 1993)2.5 E(5)193.45 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.54(HOSTIOLIB\(3L\) OCCAM)72 48 R 115.54
(LIBRARIES HOSTIOLIB\(3L\))2.5 F/F1 10.95/Times-Bold@0 SF(SEE ALSO)72 84
Q F0 2.862(INMOS occam)108 96 R 2.862(2t)2.862 G .361(oolset user manua\
l - part 2 \(occam libraries and appendices\) INMOS document number)
-2.862 F(72 TDS 276 02.)108 108 Q F1 -.548(AU)72 124.8 S(THOR).548 E F0
(This document is Cop)108 136.8 Q(yright \(C\) 1993 Da)-.1 E(vid Beck)
-.2 E(ett, Uni)-.1 E -.15(ve)-.25 G(rsity of K).15 E(ent at Canterb)-.25
E(ury)-.2 E(.)-.65 E(The library contents are Cop)108 153.6 Q
(yright \(C\) 1991 INMOS Limited.)-.1 E 143.18(HOSTIOLIB 23)72 768 R
(February 1993)2.5 E(6)193.45 E 0 Cg EP
%%Trailer
end
%%EOF
